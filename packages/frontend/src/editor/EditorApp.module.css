@import '../game/components/variables.module.css';

.editorApp {
	height: 100vh;
	width: 100%;
	display: grid;
	grid-template-columns: minmax(320px, 420px) minmax(0, 1fr);
	background: #0a0a0a;
	color: var(--dialog-text);
	font-family: 'Press Start 2P', monospace;
	overflow: hidden;
}

.sidebar {
	position: relative;
	z-index: 1;
	height: 100vh;
	overflow-y: auto;
	padding: var(--spacing-lg);
	background: var(--dialog-bg);
	border-right: 4px solid var(--dialog-border);
	box-shadow: 4px 0 0 rgba(0, 0, 0, 0.6);
	image-rendering: pixelated;
}

.header {
	display: flex;
	align-items: flex-start;
	justify-content: space-between;
	gap: var(--spacing-md);
	margin-bottom: var(--spacing-lg);
}

.tabRow {
	display: grid;
	grid-template-columns: repeat(2, minmax(0, 1fr));
	gap: var(--spacing-sm);
	margin-bottom: var(--spacing-md);
}

.tabButton {
	background: var(--dialog-button-bg);
	border: 2px solid var(--dialog-border);
	border-radius: var(--dialog-border-radius);
	padding: 6px 10px;
	font-size: 0.6rem;
	text-transform: uppercase;
	cursor: pointer;
	color: var(--dialog-text);
	box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.45);
}

.tabButtonActive {
	border-color: var(--dialog-border-accent);
	color: var(--dialog-border-accent);
	box-shadow: 0 0 0 2px rgba(255, 205, 110, 0.35);
}

.overline {
	text-transform: uppercase;
	letter-spacing: 0.16em;
	font-size: 0.55rem;
	color: var(--dialog-item-type);
	margin: 0 0 var(--spacing-sm) 0;
	text-shadow: var(--dialog-text-shadow);
}

.title {
	margin: 0 0 var(--spacing-sm) 0;
	font-size: 1rem;
	color: var(--dialog-speaker);
	text-shadow: var(--dialog-speaker-shadow);
}

.subtitle {
	margin: 0;
	color: var(--dialog-text);
	font-size: 0.65rem;
	line-height: 1.6;
	text-shadow: var(--dialog-text-shadow);
}

.inlineCode {
	font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
	font-size: 0.7rem;
	color: var(--dialog-item-name);
	background: rgba(44, 24, 16, 0.8);
	border: 2px solid var(--dialog-item-border);
	padding: 2px 6px;
	border-radius: var(--dialog-border-radius);
}

.infoButton {
	width: 28px;
	height: 28px;
	border-radius: var(--dialog-border-radius);
	border: 3px solid var(--dialog-button-border);
	background: var(--dialog-button-bg);
	color: var(--dialog-text);
	font-size: 0.7rem;
	cursor: pointer;
	box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.5);
	text-shadow: var(--dialog-text-shadow);
}

.infoButton:hover {
	border-color: var(--dialog-border-accent);
	color: var(--dialog-border-accent);
}

.helpPanel {
	background: var(--dialog-item-bg);
	border: var(--dialog-border-width) solid var(--dialog-item-border);
	border-radius: var(--dialog-border-radius);
	padding: var(--spacing-md);
	margin-bottom: var(--spacing-md);
	box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.45);
}

.helpTitle {
	margin: 0 0 var(--spacing-sm) 0;
	font-size: 0.7rem;
	color: var(--dialog-item-name);
	text-transform: uppercase;
	text-shadow: var(--dialog-text-shadow);
}

.helpList {
	margin: 0;
	padding-left: 18px;
	display: grid;
	gap: 6px;
	font-size: 0.6rem;
	color: var(--dialog-text);
	text-shadow: var(--dialog-text-shadow);
}

.section {
	background: var(--dialog-item-bg);
	border: var(--dialog-border-width) solid var(--dialog-item-border);
	border-radius: var(--dialog-border-radius);
	padding: var(--spacing-md);
	margin-bottom: var(--spacing-md);
	box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.45);
}

.sectionHeader {
	font-weight: 600;
	margin-bottom: var(--spacing-sm);
	font-size: 0.65rem;
	color: var(--dialog-item-name);
	text-transform: uppercase;
	letter-spacing: 0.12em;
	text-shadow: var(--dialog-text-shadow);
}

.sectionHeaderRow {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: var(--spacing-sm);
}

.collapseButton {
	background: transparent;
	border: 2px solid var(--dialog-border);
	border-radius: var(--dialog-border-radius);
	color: var(--dialog-text);
	font-size: 0.5rem;
	text-transform: uppercase;
	padding: 4px 8px;
	cursor: pointer;
	box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.35);
}

.collapseButton:hover {
	border-color: var(--dialog-border-accent);
	color: var(--dialog-border-accent);
}

.field {
	display: grid;
	gap: 6px;
	margin-bottom: var(--spacing-sm);
	font-size: 0.6rem;
	color: var(--dialog-item-type);
	text-shadow: var(--dialog-text-shadow);
}

.field input {
	background: var(--dialog-bg);
	border: var(--dialog-border-width) solid var(--dialog-border);
	border-radius: var(--dialog-border-radius);
	padding: 8px 10px;
	color: var(--dialog-text);
	font-size: 0.7rem;
	outline: none;
	font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
}

.field input:focus {
	border-color: var(--dialog-border-accent);
}

.field select {
	background: var(--dialog-bg);
	border: var(--dialog-border-width) solid var(--dialog-border);
	border-radius: var(--dialog-border-radius);
	padding: 8px 10px;
	color: var(--dialog-text);
	font-size: 0.7rem;
	outline: none;
	font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
}

.field select:focus {
	border-color: var(--dialog-border-accent);
}

.textArea {
	background: var(--dialog-bg);
	border: var(--dialog-border-width) solid var(--dialog-border);
	border-radius: var(--dialog-border-radius);
	padding: 10px;
	color: var(--dialog-text);
	font-size: 0.65rem;
	outline: none;
	font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
	resize: vertical;
	min-height: 180px;
	white-space: pre;
	width: 100%;
}

.textArea:focus {
	border-color: var(--dialog-border-accent);
}

.helperText {
	margin: 0 0 var(--spacing-sm) 0;
	font-size: 0.55rem;
	color: var(--dialog-item-desc);
	text-shadow: var(--dialog-text-shadow);
}

.pickHint {
	margin: 0 0 var(--spacing-sm) 0;
	font-size: 0.55rem;
	color: var(--dialog-border-accent);
	text-shadow: var(--dialog-text-shadow);
}

.gridRow {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
	gap: 10px;
}

.inlineRow {
	display: flex;
	flex-wrap: wrap;
	align-items: center;
	gap: var(--spacing-sm);
}

.modeButton {
	background: var(--dialog-button-bg);
	border: 2px solid var(--dialog-button-border);
	border-radius: var(--dialog-border-radius);
	padding: 6px 12px;
	font-size: 0.55rem;
	text-transform: uppercase;
	cursor: pointer;
	color: var(--dialog-text);
	box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.45);
}

.modeButtonActive {
	border-color: var(--dialog-border-accent);
	color: var(--dialog-border-accent);
	box-shadow: 0 0 0 2px rgba(255, 205, 110, 0.35);
}

.slotCard {
	background: rgba(9, 9, 12, 0.7);
	border: 2px solid rgba(120, 106, 92, 0.6);
	border-radius: var(--dialog-border-radius);
	padding: var(--spacing-sm);
	margin-bottom: var(--spacing-sm);
	box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.35);
}

.variantCard {
	position: relative;
	padding-right: 34px;
	cursor: pointer;
}

.variantCardActive {
	border-color: var(--dialog-border-accent);
	box-shadow: 0 0 0 2px rgba(255, 205, 110, 0.35), 3px 3px 0 rgba(0, 0, 0, 0.35);
}

.variantRemoveButton {
	position: absolute;
	top: var(--spacing-sm);
	right: var(--spacing-sm);
	width: 24px;
	height: 24px;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	border-radius: var(--dialog-border-radius);
	border: 2px solid rgba(120, 106, 92, 0.6);
	background: rgba(20, 16, 12, 0.8);
	color: var(--dialog-text);
	cursor: pointer;
	font-size: 0.7rem;
	line-height: 1;
	padding: 0;
}

.variantRemoveButton:hover {
	border-color: #f59e9e;
	box-shadow: 0 0 0 2px rgba(245, 158, 158, 0.5);
}

.slotRow {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
	gap: 10px;
	align-items: end;
}

.tileList {
	display: grid;
	gap: var(--spacing-sm);
	margin-top: var(--spacing-sm);
}

.tileGroup {
	display: grid;
	gap: 6px;
}

.tileTitle {
	font-size: 0.55rem;
	color: var(--dialog-item-type);
	text-transform: uppercase;
	letter-spacing: 0.08em;
}

.tileRow {
	display: flex;
	flex-wrap: wrap;
	gap: 6px;
}

.tilePill {
	display: inline-flex;
	align-items: center;
	gap: 6px;
	padding: 4px 6px;
	border-radius: var(--dialog-border-radius);
	background: rgba(14, 14, 18, 0.7);
	border: 1px solid rgba(120, 106, 92, 0.6);
	font-size: 0.55rem;
	color: var(--dialog-text);
}

.tileRemove {
	border: none;
	background: transparent;
	color: var(--dialog-border-accent);
	cursor: pointer;
	font-size: 0.65rem;
	line-height: 1;
	padding: 0 2px;
}

.checkboxField {
	display: inline-flex;
	align-items: center;
	gap: 8px;
	font-size: 0.6rem;
	color: var(--dialog-item-type);
	text-shadow: var(--dialog-text-shadow);
}

.checkboxField input {
	width: 16px;
	height: 16px;
	accent-color: var(--dialog-border-accent);
}

.smallButton {
	align-self: end;
	background: rgba(61, 32, 32, 0.9);
	border: 2px solid #7d2a2a;
	color: #f3d6d6;
	padding: 6px 10px;
	font-size: 0.55rem;
	text-transform: uppercase;
	cursor: pointer;
	box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.45);
}

.smallButton:hover {
	border-color: #f59e9e;
	box-shadow: 0 0 0 2px rgba(245, 158, 158, 0.5);
}

.primaryButton,
.secondaryButton {
	border: 3px solid transparent;
	border-radius: var(--dialog-border-radius);
	padding: 8px 14px;
	font-size: 0.6rem;
	font-weight: 600;
	cursor: pointer;
	text-transform: uppercase;
	text-shadow: var(--dialog-text-shadow);
	box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.5);
}

.primaryButton {
	background: var(--dialog-button-continue-bg);
	border-color: var(--dialog-button-continue-border);
	color: var(--dialog-text);
}

.primaryButton:disabled {
	opacity: 0.5;
	cursor: not-allowed;
	box-shadow: none;
}

.secondaryButton {
	background: var(--dialog-button-bg);
	border-color: var(--dialog-button-border);
	color: var(--dialog-text);
}

.primaryButton:hover,
.secondaryButton:hover {
	transform: translate(-2px, -2px);
	box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.6);
}

.status {
	font-size: 0.55rem;
	color: var(--dialog-item-name);
	text-shadow: var(--dialog-text-shadow);
}

.error {
	margin: 8px 0 0;
	color: var(--color-accent-red);
	font-size: 0.6rem;
	background: rgba(94, 30, 30, 0.4);
	border: 2px solid #7d2a2a;
	padding: 6px 8px;
	text-shadow: var(--dialog-text-shadow);
}

.jsonPreview {
	background: rgba(12, 10, 8, 0.9);
	border-radius: var(--dialog-border-radius);
	padding: 10px;
	font-size: 0.65rem;
	font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
	color: var(--dialog-text);
	max-height: 220px;
	overflow: auto;
	white-space: pre-wrap;
	border: var(--dialog-border-width) solid var(--dialog-item-border);
}

.viewport {
	position: relative;
	min-height: 100vh;
	overflow: hidden;
	background: #0a0a0a;
}

.viewportControls {
	position: absolute;
	top: var(--spacing-lg);
	right: var(--spacing-lg);
	display: flex;
	align-items: center;
	gap: var(--spacing-sm);
	padding: 6px 10px;
	background: var(--dialog-item-bg);
	border: var(--dialog-border-width) solid var(--dialog-item-border);
	border-radius: var(--dialog-border-radius);
	box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.45);
	z-index: 2;
}

.canvas {
	width: 100%;
	height: 100%;
	display: block;
}

.hud {
	position: absolute;
	left: var(--spacing-lg);
	bottom: var(--spacing-lg);
	display: flex;
	gap: var(--spacing-sm);
}

.hudCard {
	background: var(--dialog-item-bg);
	border: var(--dialog-border-width) solid var(--dialog-item-border);
	border-radius: var(--dialog-border-radius);
	padding: 8px 10px;
	font-size: 0.6rem;
	color: var(--dialog-text);
	text-shadow: var(--dialog-text-shadow);
	box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.45);
}

@media (max-width: 980px) {
	.editorApp {
		grid-template-columns: 1fr;
	}

	.sidebar {
		border-right: none;
		border-bottom: 4px solid var(--dialog-border);
		height: auto;
		max-height: 55vh;
	}

	.viewport {
		min-height: 45vh;
	}
}
